<html>
    <head>
        <title>Array 내장함수</title>
    </head>
    <body>
        <div id="div1"></div>
        <script>
            var fruits1 = ["Banana", "Orange", "Apple"];
            // toString() : 배열 형태의 아이템들을 문자 형태로 변환
            console.log(fruits1);
            console.log(fruits1.toString());

            //join()
            console.log(fruits1.join(" * "));
            
            var txt1 = "Banana";
            txt1 += "Orange";
            txt1 += "Apple";
            console.log(txt1);
            document.getElementById("div1").innerHTML = txt1;


            //push() : 배열의 가장 마지막에 새로운 항목을 추가하여 리턴
            var arr1 = [];
            arr1.push("Banana");
            arr1.push("Orange");
            arr1.push("Apple");
            console.log(arr1);
            document.getElementById("div1").innerHTML = arr1.join("<br>");

            //pop() : 배열의 가장 마지막 항목을 제거하여 리턴
            var fruits2 = ["Banana", "Orange", "Apple"];
            var arr2 = fruits2.pop();
            console.log(arr2);
            console.log(fruits2); // => ["Banana", "Orange"]
            fruits2.push("Kiwi");
            console.log(fruits2)

            //shift() : 배열의 첫번째 항목을 제거하여 리턴
            var fruits3 = ["Banana", "Orange", "Apple"];
            var str = fruits3.shift();
            console.log(str);
            console.log(fruits3);

            //unshit() : 배열의 첫번째에 새로운 항목을 추가함
            var fruits4 = ["Banana", "Orange", "Apple"];
            fruits4.unshift("Lemon");
            console.log(fruits4);  //=> ["Lemon" ,"Banana", "Orange", "Apple"]

            fruits4[0] = "Grape";
            console.log(fruits4);
            console.log(fruits4.length);
            fruits4[fruits4.length-1] = "Peach";
            console.log(fruits4);

            //splice(a,b) : 배열의 중간에 삽입 | a : 시작 위치, b : 삭제할 항목 수
            var fruits5 = ["Banana", "Orange", "Apple"];
            fruits5.splice(1, 1); //orange
            console.log(fruits5); //banana, apple
            
            fruits5.splice(1, 1, "Lemon", "Kiwi"); 
            console.log(fruits5);

            //concat() : 두 개의 배열을 하나로 만들어줌
            var BTS1 = ["뷔"];
            var BTS2 = ["정국", "RM"];
            var BTS = BTS1.concat(BTS2);
            console.log(BTS);

            //slice(a, b) : a부터 b-1까지의 항목을 가져옴
            var fruits6 = ["Banana", "Orange", "Apple"];
            fruits6 = fruits6.slice(1);
            console.log(fruits6); //orange, apple
            
            var fruits6 = ["Banana", "Orange", "Apple"];
            fruits6 = fruits6.slice(1, 2);
            console.log(fruits6); //orange

            var fruits7 = ["Banana", "Orange", "Apple", "Lemon", "Kiwi"];
            console.log(fruits7.sort());
            
            var points = [40, 100, 70, 21, 99];
            console.log(points.sort()); //sort는 문자열로 변환해서 정렬 

            //오름차순
            points.sort(function(a, b){
               if(a>b) return 1;
               else if(a<b) return -1;
               else return 0; 
            });
            console.log(points);

            points.sort(function(a,b){
                return a - b;
            })
            console.log(points);

            //내림차순
            // points.sort(function(a, b){
            //    if(a>b) return -1;
            //    else if(a<b) return 1;
            //    else return 0; 
            // });
            // console.log(points);

            // points.sort(function(a,b){
            //     return b - a;
            // })
            // console.log(points);
           
            //reverse() : 거꾸로
            console.log(points.reverse()); 

            // object 정렬
            var persons = [
                {name:"유재석", point:78},
                {name:"김종국", point:92},
                {name:"양세찬", point:76},
                {name:"하  하", point:81}
            ];

            persons.sort(function(a, b){
                if(a.point > b.point){
                    return 1;
                }else if(a.point < b.point){
                    return -1;
                }else{
                    return 0;
                }
            });
            console.log(persons);

            //삼항연산자 : (조건) ? true : false;
            persons.sort(function(a, b){
                return (a.point > b.point) ? 1 : (a.point > b.point) ? -1 : 0;
            });
            console.log(persons);

            //filter() 
            var persons = [
                {name:"유재석", point:78, city:"서울"},
                {name:"김종국", point:92, city:"대구"},
                {name:"양세찬", point:76, city:"서울"},
                {name:"하  하", point:81, city:"제주"}
            ];

            //for문으로 구하기
            var jeju = [];
            for(var i = 0; i < persons.length; i++){
                if(persons[i].city == "제주"){
                    jeju.push(persons[i]);
                }
            }
            console.log(jeju);

            //filter로 구하기
            var jeju = persons.filter(function(per){
                return per.city == "제주";
            });
            //console.log(jeju);

            //reduce()
            var arr3 = [1,2,3,4,5];
            var total = 0;
            for(var x of arr3){
                //console.log(x);
                total += x;
            }
            console.log(total);

            //reduce(a, c) : a - accumulator(누산기), c - cuurentValue(현재값)
            var arr4 = [1,2,3,4,5];
            var total2 = arr4.reduce(function(a,c){
                return a + c;
            });
            console.log(total2);

            //map() : filter()와는 다른 형태로 새로운 배열을 생성
            var userList = [
                {firstName:"재석", lastName:"유", email:"yu@email.com"},
                {firstName:"종국", lastName:"김", email:"kim@email.com"},
                {firstName:"세찬", lastName:"양", email:"yang@email.com"},
                {firstName:"석진", lastName:"지", email:"ji@email.com"}

            ];

            var userList2 = userList.map(function(user){
                return {fullName : user.lastName + user.firstName}
            });
            console.log(userList2);

        </script>
    </body>
</html>